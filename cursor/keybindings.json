[
  // --------------------------------------------------
  // NERD Tree風
  // --------------------------------------------------
  // サイドバーの表示トグル(サイドバーの表示・非表示)
  // {
  //   "key": "ctrl+o",
  //   "command": "workbench.view.explorer",
  //   "when": "!explorerViewletVisible && vim.mode != 'Insert' && vim.mode != 'SearchInProgressMode'"
  // },
  {
    "key": "ctrl+j",
    "command": "selectNextSuggestion",
    "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus"
  },
  {
    "key": "ctrl+k",
    "command": "selectPrevSuggestion",
    "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus"
  },
  //コマンドパレットの移動
  {
    "key": "ctrl+j",
    "command": "workbench.action.quickOpenSelectNext",
    "when": "inQuickOpen"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.quickOpenSelectPrevious",
    "when": "inQuickOpen"
  },
  // サイドバーフォーカストグル(サイドバーは表示したまま，フォーカスを切り替え)
  {
    "key": "ctrl+o",
    "command": "workbench.view.explorer",
    "when": "inFilesPicker && inQuickOpen && vim.mode != 'Insert' || vim.mode != 'SearchInProgressMode'"
  },
  {
    "key": "ctrl+o",
    "command": "workbench.action.toggleSidebarVisibility",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  // {
  //   "key": "ctrl+o",
  //   "command": "workbench.action.toggleSidebarVisibility",
  //   "when": "editorFocus && explorerViewletVisible && !searchViewletVisible && !inDebugMode && vim.mode != 'SearchInProgressMode' && vim.mode != 'Insert'"
  // },
  // {
  //   "key": "s l",
  //   "command": "workbench.view.explorer",
  //   "when": "(explorerViewletFocus || searchViewletFocus) && !inputFocus"
  // },
  {
    "key": "ctrl+l",
    "command": "workbench.view.explorer",
    "when": "explorerViewletFocus || searchViewletFocus"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.view.explorer",
    "when": "inFilesPicker && inQuickOpen"
  },
  {
    "key": "g r",
    "command": "-renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  // ファイルの時は"Enter" or "o"で同一タブで表示
  {
    "key": "Enter",
    "command": "list.select",
    "when": "explorerViewletFocus && explorerViewletVisible && !explorerResourceIsFolder && !inputFocus"
  },
  // フォルダのときは"Enter" or "o"で展開
  {
    "key": "Enter",
    "command": "list.toggleExpand",
    "when": "explorerViewletFocus && explorerViewletVisible && explorerResourceIsFolder && !inputFocus"
  },
  // "s"で別ウィンドウで開く
  {
    "key": "ctrl+v",
    "command": "explorer.openToSide",
    "when": "explorerViewletFocus && explorerViewletVisible && !explorerResourceIsFolder && !inputFocus"
  },

  // --- ファイルシステム系 ---
  // "m + a"でファイル追加
  {
    "key": "m a",
    "command": "explorer.newFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  // "m + d"で削除
  {
    "key": "m d",
    "command": "deleteFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  //新規フォルダ作成
  {
    "key": "m f",
    "command": "explorer.newFolder",
    "when": "explorerViewletFocus && explorerViewletVisible && !inputFocus"
  },
  {
    "key": "m r",
    "command": "renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "m o",
    "command": "workbench.action.toggleActivityBarVisibility",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "m o",
    "command": "workbench.action.toggleActivityBarVisibility",
    "when": "editorFocus && explorerViewletVisible && !searchViewletVisible && !inDebugMode && vim.mode != 'SearchInProgressMode' && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+w e",
    "command": "workbench.actions.view.problems",
    "when": "workbench.panel.markers.view.active"
  },
  {
    "key": "shift+cmd+m",
    "command": "-workbench.actions.view.problems",
    "when": "workbench.panel.markers.view.active"
  },
  {
    "key": "; f",
    "command": "workbench.action.quickOpen",
    "when": "editorFocus && vim.mode != 'Insert'"
  },
  // ファイル内の全文選択
  {
    "key": "; r",
    "command": "workbench.view.search",
    "when": "vim.mode != 'Insert'"
  },
  {
    "key": "shift+cmd+f",
    "command": "-workbench.view.search",
    "when": "workbench.view.search.active && neverMatch =~ /doesNotMatch/"
  },
  /* -------------------------- version管理(sidebar) -------------------------- */
  {
    "key": "shift+cmd+e",
    "command": "-workbench.view.explorer",
    "when": "viewContainer.workbench.view.explorer.enabled"
  },
  {
    "key": "ctrl+w t",
    "command": "workbench.action.terminal.toggleTerminal",
    "when": "terminal.active"
  },
  {
    "key": "ctrl+`",
    "command": "-workbench.action.terminal.toggleTerminal",
    "when": "terminal.active"
  },
  {
    "key": "ctrl+w u",
    "command": "workbench.action.output.toggleOutput",
    "when": "workbench.panel.output.active"
  },
  {
    "key": "shift+cmd+u",
    "command": "-workbench.action.output.toggleOutput",
    "when": "workbench.panel.output.active"
  },
  {
    "key": "ctrl+w r",
    "command": "workbench.action.openRecent"
  },
  {
    "key": "ctrl+r",
    "command": "-workbench.action.openRecent"
  },
  {
    "key": "ctrl+w w",
    "command": "workbench.action.switchWindow"
  },
  {
    "key": "ctrl+w",
    "command": "-workbench.action.switchWindow"
  },
  {
    "key": "ctrl+w y",
    "command": "workbench.debug.action.toggleRepl",
    "when": "workbench.panel.repl.view.active"
  },
  {
    "key": "shift+cmd+y",
    "command": "-workbench.debug.action.toggleRepl",
    "when": "workbench.panel.repl.view.active"
  },
  {
    "key": "cmd+l",
    "command": "-expandLineSelection",
    "when": "textInputFocus"
  },
  {
    "key": "cmd+l",
    "command": "workbench.panel.chat",
    "when": "workbench.panel.chat.view.copilot.active"
  },
  {
    "key": "ctrl+cmd+i",
    "command": "-workbench.panel.chat",
    "when": "workbench.panel.chat.view.copilot.active"
  },
  {
    "key": "escape",
    "command": "workbench.action.focusLastEditorGroup",
    "when": "workbench.panel.chat.view.copilot.active && !editorFocus && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+a",
    "command": "-cursorLineStart",
    "when": "textInputFocus"
  },
  {
    "key": "cmd+k u",
    "command": "workbench.action.closeUnmodifiedEditors"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.action.focusSideBar",
    "when": "!sideBarFocus"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.action.focusActiveEditorGroup",
    "when": "sideBarFocus"
  },
  {
    "key": "cmd+k cmd+left",
    "command": "-workbench.action.focusLeftGroup"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.focusBelowGroup",
    "when": "editorTextFocus || markdownPreviewFocus || webviewFocus"
  },
  {
    "key": "cmd+k cmd+down",
    "command": "-workbench.action.focusBelowGroup"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.focusAboveGroup",
    "when": "editorTextFocus || markdownPreviewFocus || webviewFocus"
  },
  {
    "key": "cmd+k cmd+up",
    "command": "-workbench.action.focusAboveGroup"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.focusRightGroup",
    "when": "editorTextFocus || markdownPreviewFocus || webviewFocus"
  },
  {
    "key": "cmd+k cmd+right",
    "command": "-workbench.action.focusRightGroup"
  },
  {
    "key": "] ctrl+]",
    "command": "notebook.cell.toggleLineNumbers",
    "when": "notebookEditorFocused && !inputFocus && !notebookOutputInputFocused"
  },
  {
    "key": "l",
    "command": "-notebook.cell.toggleLineNumbers",
    "when": "notebookEditorFocused && !inputFocus && !notebookOutputInputFocused"
  },
  {
    "key": "] shift+[",
    "command": "list.select",
    "when": "listFocus && !inputFocus"
  },
  {
    "key": "l",
    "command": "-list.select",
    "when": "listFocus && !inputFocus"
  },
  {
    "key": "cmd+p",
    "command": "workbench.action.quickOpenNavigateNextInFilePicker",
    "when": "inFilesPicker && inQuickOpen"
  },
  {
    "key": "cmd+p",
    "command": "-workbench.action.quickOpenNavigateNextInFilePicker",
    "when": "inFilesPicker && inQuickOpen"
  },
  {
    "key": "cmd+k w",
    "command": "workbench.action.closeEditorsInGroup"
  },
  {
    "key": "cmd+r w",
    "command": "-workbench.action.closeEditorsInGroup"
  },
  {
    "key": "space f",
    "command": "workbench.action.findInFiles",
    "when": "vim.mode != 'Insert'"
  }
]
