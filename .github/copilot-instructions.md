## 共通設定
- 日本語で回答してください
- 簡潔で分かりやすい説明を心がけてください
- ベストプラクティスの具体例を提示してください
- 学習リソースの提案を積極的に行ってください
- スケーラビリティとパフォーマンスを重点的にチェックしてください

## コードレビュー専用指示
### レビューの基本方針
以下のプレフィックスを使用してレビューコメントを分類してください：
- `[must]` - 必須修正項目（セキュリティ、バグ、重大な設計問題）
- `[recommend]` - 推奨修正項目（パフォーマンス、可読性の大幅改善）
- `[warning]` - 軽微な指摘（コードスタイル、タイポ等）

### 重点チェック項目
1. **セキュリティ**: SQLインジェクション、XSS、認証・認可の不備
2. **パフォーマンス**: N+1問題、不要なループ、メモリリーク
3. **可読性**: 変数名、関数名、コメントの適切性
4. **保守性**: DRY原則、SOLID原則の遵守
5. **テスト**: テストケースの網羅性、エッジケースの考慮

### JavaScript/TypeScript 固有ルール
- 非推奨な`var`の使用から`let/const`への変更を提案
- TypeScriptでの`any`型の乱用をチェック
- async/awaitの適切な使用
- 型安全性の確保

### Next.js 固有ルール
- Next.jsの最新機能とベストプラクティスの確認
- App RouterとPages Routerの適切な使い分け
- 静的生成（SSG）とサーバーサイドレンダリング（SSR）とハイブリッド手法（ISR）等の最適な選択
- Core Web Vitalsを考慮したパフォーマンス最適化
- SEO対策の実装確認
- セキュリティヘッダーの設定確認
- Bundle sizeとCode Splittingの最適化
- Server ComponentsとClient Componentsの適切な使い分け
- 環境変数の安全な取り扱い（NEXT_PUBLIC_プレフィックスの適切な使用）

### Go 固有ルール
- **エラーハンドリング**: 適切なエラー処理、エラーラッピング（`fmt.Errorf` with `%w` verb）の使用
- **ゴルーチンの管理**: リークの防止、context.Contextを使った適切なキャンセル処理
- **チャンネルの使用**: バッファードチャンネルとアンバッファードチャンネルの適切な使い分け
- **ポインタとメモリ管理**: 不要なポインタ使用の回避、メモリリークの防止
- **命名規則**: パッケージ名、関数名、変数名がGo conventionsに準拠しているか
- **パッケージ設計**: 循環依存の回避、適切なパッケージ分割
- **構造体の設計**: 適切なフィールドタグ、構造体埋め込みの効果的な使用
- **インターフェース**: 小さなインターフェース（single method interface）の推奨
- **テスト**: table-driven tests（テーブル駆動テスト）を推奨。標準の`testing`パッケージを優先し、`testify`等のサードパーティライブラリは、標準ライブラリで対応が難しい場合（例: アサーションの簡略化やモックの作成）に限り使用を検討
- **標準ライブラリの活用**: サードパーティライブラリよりも標準ライブラリを優先
- **並行処理**: race condition（競合状態）の防止、sync.Mutex等の同期プリミティブの適切な使用
- **パフォーマンス**: 不要なアロケーションの回避、適切なslice/mapの初期化
